
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Sơ đồ bãi đỗ xe</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }
    #parkingMap {
      background: url('so_do_bai_xe_nen.jpg') no-repeat center;
      background-size: contain;
      width: 100%;
      max-width: 1000px;
      height: auto;
      position: relative;
      margin: auto;
    }
    .spot {
      position: absolute;
      width: 45px;
      height: 90px;
      background-color: rgba(255, 255, 0, 0.2);
      border: 1px solid #ccc;
      cursor: pointer;
    }
    .tooltip {
      position: absolute;
      background: #fff;
      border: 1px solid #000;
      padding: 5px;
      display: none;
    }
    #searchBox {
      margin-bottom: 20px;
      padding: 10px;
      font-size: 16px;
      width: 300px;
    }
  </style>
</head>
<body>
  <h1>Sơ đồ bãi đỗ xe</h1>
  <input type="text" id="searchBox" placeholder="Nhập biển số xe để tìm vị trí...">
  <div id="parkingMap"></div>
  <script>
    const map = document.getElementById('parkingMap');
    const tooltip = document.createElement('div');
    tooltip.className = 'tooltip';
    document.body.appendChild(tooltip);

    const spots = [
      ...Array(20).fill(0).map((_, i) => ({
        id: `1-${i+1}`,
        plate: '',
        left: 25 + i * 45,
        top: 20
      })),
      ...Array(20).fill(0).map((_, i) => ({
        id: `2-${i+1}`,
        plate: '',
        left: 25 + i * 45,
        top: 130
      }))
    ];

    const dataFromExcel = {
      "1-1": "30-22", "1-2": "30-17", "1-3": "40-67", "1-4": "45-56",
      "1-5": "34-33", "1-6": "23-56", "1-7": "33-55", "1-8": "34-54",
      "1-9": "32-34", "1-10": "44-44", "1-11": "35-33", "1-12": "34-56",
      "1-13": "22-11", "1-14": "66-77", "1-15": "12-34", "1-16": "43-21",
      "1-17": "45-88", "1-18": "54-66", "1-19": "38-92", "1-20": "99-99",
      "2-1": "", "2-2": "", "2-3": "", "2-4": "", "2-5": "", "2-6": "",
      "2-7": "", "2-8": "", "2-9": "", "2-10": "", "2-11": "", "2-12": "",
      "2-13": "", "2-14": "", "2-15": "", "2-16": "", "2-17": "",
      "2-18": "", "2-19": "", "2-20": ""
    };

    spots.forEach(spot => {
      const div = document.createElement('div');
      div.className = 'spot';
      div.style.left = spot.left + 'px';
      div.style.top = spot.top + 'px';
      spot.plate = dataFromExcel[spot.id] || 'Chưa có thông tin';
      div.title = spot.id;
      div.addEventListener('mouseenter', e => {
        tooltip.innerText = `Vị trí: ${spot.id}\nBiển số: ${spot.plate}`;
        tooltip.style.left = (e.pageX + 10) + 'px';
        tooltip.style.top = (e.pageY + 10) + 'px';
        tooltip.style.display = 'block';
      });
      div.addEventListener('mouseleave', () => {
        tooltip.style.display = 'none';
      });
      map.appendChild(div);
    });

    document.getElementById('searchBox').addEventListener('input', function() {
      const query = this.value.toLowerCase();
      spots.forEach(spot => {
        const el = [...map.children].find(d => d.title === spot.id);
        if (spot.plate.toLowerCase().includes(query)) {
          el.style.backgroundColor = 'rgba(0, 255, 0, 0.5)';
        } else {
          el.style.backgroundColor = 'rgba(255, 255, 0, 0.2)';
        }
      });
    });
  </script>
</body>
</html>
